<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>æ‰é‡‘èŠ± Â· ç®€æ˜“å¯¹æˆ˜ï¼ˆ1äºº+3æœºå™¨äººï¼‰</title>

  <!-- å¯é€‰ï¼šå¦‚æœä½ å·²æœ‰ PWA æ–‡ä»¶ï¼Œä¿ç•™ä»¥ä¸‹ä¸¤è¡Œï¼›å¦åˆ™å¯ä»¥å…ˆæ³¨é‡Šæ‰ -->
  <link rel="manifest" href="./manifest.json" />
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./service-worker.js').catch(console.error);
      });
    }
  </script>

  <style>
    :root{
      --bg:#0b1020;
      --panel:#111827;
      --muted:#9ca3af;
      --text:#e5e7eb;
      --accent:#22d3ee;
      --danger:#f43f5e;
      --ok:#10b981;
      --warn:#f59e0b;
      --border:#293241;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;}
    .wrap{max-width:1100px;margin:0 auto;padding:16px;display:grid;gap:16px}
    .topbar{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
    .badge{padding:4px 8px;border:1px solid var(--border);border-radius:10px;background:#0f172a}
    .row{display:grid;grid-template-columns:1fr 330px;gap:16px}
    .table{background:linear-gradient(180deg,#0f172a,#0b1328);border:1px solid var(--border);border-radius:14px;padding:12px;}
    .players{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    .panel{border:1px solid var(--border);border-radius:12px;background:var(--panel);padding:12px}
    .panel h3{margin:0 0 6px;font-size:16px;display:flex;align-items:center;gap:8px}
    .chips{font-weight:700;color:var(--ok)}
    .pot{font-weight:700;color:var(--accent)}
    .cards{display:flex;gap:8px;margin:6px 0 2px}
    .card{
      width:48px;height:68px;border-radius:8px;border:1px solid #374151;display:grid;place-items:center;
      background:#0b1328;font-weight:700;
    }
    .card.face{background:#f8fafc;color:#0b1020;border-color:#cbd5e1}
    .suit-red{color:#ef4444}
    .btns{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    button{
      padding:8px 12px;border-radius:10px;border:1px solid #374151;background:#1f2937;color:#e5e7eb;cursor:pointer;
    }
    button.primary{background:#1d4ed8;border-color:#1e40af}
    button.danger{background:#991b1b;border-color:#7f1d1d}
    button:disabled{opacity:.5;cursor:not-allowed}
    .sidebar{display:grid;gap:12px}
    .log{height:320px;overflow:auto;border:1px solid var(--border);border-radius:10px;background:#0f172a;padding:8px;font-size:13px;line-height:1.5}
    .log p{margin:.2em 0;color:var(--muted)}
    .stat{display:grid;grid-template-columns:1fr 1fr;gap:8px}
    .stat .panel{display:grid;gap:6px}
    .kv{display:flex;justify-content:space-between;border-bottom:1px dashed #223049;padding-bottom:4px}
    .turn{color:var(--warn);font-weight:700}
    .folded{opacity:.5}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <span class="badge">åº•æ³¨(Ante): <b id="ante">10</b></span>
      <span class="badge">å•ä½åŠ æ³¨: <b id="unitBet">10</b></span>
      <span class="badge">æœ€å¤§åŠ æ³¨æ¬¡æ•°: <b id="maxRaises">3</b></span>
      <span class="badge">åº•æ±  Pot: <span class="pot" id="pot">0</span></span>
      <span class="badge">å½“å‰éœ€è·Ÿæ³¨: <b id="currentBet">0</b></span>
      <span class="badge">è½®åˆ°: <span id="turnName" class="turn">-</span></span>
    </div>

    <div class="row">
      <div class="table panel">
        <div class="players" id="players"></div>

        <div class="btns" id="actionBar">
          <button id="btnFold" class="danger">å¼ƒç‰Œ</button>
          <button id="btnCall">è·Ÿæ³¨</button>
          <button id="btnRaise" class="primary">åŠ æ³¨</button>
          <button id="btnNext" style="display:none;">ä¸‹ä¸€å±€</button>
        </div>
      </div>

      <div class="sidebar">
        <div class="panel">
          <h3>è¯´æ˜</h3>
          <div style="font-size:14px;color:var(--muted);line-height:1.55">
            è§„åˆ™ï¼šæ¯äººå‘ä¸‰å¼ ç‰Œã€‚ç‰Œå‹å¼ºå¼±ï¼š<br>
            <b>è±¹å­(ä¸‰æ¡) &gt; åŒèŠ±é¡º &gt; åŒèŠ± &gt; é¡ºå­ &gt; å¯¹å­ &gt; é«˜ç‰Œ</b>ã€‚<br>
            A å¯ä½œå¤§æˆ–å°ï¼ˆA-2-3 æœ€å°é¡ºå­ï¼ŒQ-K-A æœ€å¤§ï¼‰ã€‚<br>
            ä¸€è½®ä¸‹æ³¨ï¼šä½ å¯â€œå¼ƒç‰Œ / è·Ÿæ³¨ / åŠ æ³¨â€ï¼ˆå•ä½åŠ æ³¨ä¸ºå›ºå®šé¢åº¦ï¼‰ã€‚<br>
            æ‰€æœ‰äººéƒ½è·Ÿåˆ°ç›¸åŒé‡‘é¢æˆ–åªå‰©ä¸€äººæœªå¼ƒç‰Œ â†’ æ‘Šç‰Œç»“ç®—ã€‚
          </div>
        </div>

        <div class="panel stat">
          <div class="panel">
            <h3>å±€é¢</h3>
            <div class="kv"><span>åº•æ± </span><b id="statPot">0</b></div>
            <div class="kv"><span>å½“å‰è·Ÿæ³¨</span><b id="statNeed">0</b></div>
            <div class="kv"><span>å·²åŠ æ³¨æ¬¡æ•°</span><b id="statRaises">0</b></div>
            <div class="kv"><span>å­˜æ´»ç©å®¶</span><b id="statAlive">0</b></div>
          </div>
          <div class="panel">
            <h3>ä½ (ç©å®¶)</h3>
            <div class="kv"><span>ä½ çš„ç­¹ç </span><b id="meChips">0</b></div>
            <div class="kv"><span>ä½ æœ¬è½®å·²ä¸‹</span><b id="meBet">0</b></div>
          </div>
        </div>

        <div class="panel">
          <h3>æ—¥å¿—</h3>
          <div class="log" id="log"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    /***********************
     * å·¥å…· & ç‰Œé¢å®šä¹‰
     ***********************/
    const SUITS = ['â™ ','â™¥','â™¦','â™£'];
    const RANKS = [2,3,4,5,6,7,8,9,10,11,12,13,14]; // 11=J,12=Q,13=K,14=A
    const RANK_LABEL = v => ({11:'J',12:'Q',13:'K',14:'A'}[v] || String(v));
    const isRed = s => (s==='â™¥' || s==='â™¦');

    function createDeck(){
      const deck = [];
      for(const s of SUITS){
        for(const r of RANKS){
          deck.push({suit:s, rank:r});
        }
      }
      return deck;
    }
    function shuffle(arr){
      for(let i=arr.length-1;i>0;i--){
        const j = (Math.random()* (i+1))|0;
        [arr[i],arr[j]] = [arr[j],arr[i]];
      }
      return arr;
    }

    /***********************
     * æ‰‹ç‰Œè¯„ä¼°ï¼ˆæ‰é‡‘èŠ±ï¼‰
     * è¿”å› {cat, scoreVec, name}
     * cat è¶Šå¤§è¶Šå¼ºï¼š6è±¹å­,5åŒèŠ±é¡º,4åŒèŠ±,3é¡ºå­,2å¯¹å­,1é«˜ç‰Œ
     * scoreVec ç”¨äºç»†æ¯”å¤§å°ï¼ˆæ•°ç»„é€é¡¹æ¯”è¾ƒï¼‰
     ***********************/
    function evaluate3(hand){
      const ranks = hand.map(c=>c.rank).sort((a,b)=>b-a); // é™åº
      const suits = hand.map(c=>c.suit);
      const isFlush = (new Set(suits)).size === 1;

      // é¡ºå­åˆ¤æ–­ï¼šæ”¯æŒ A-2-3ï¼ˆæŠŠ A å½“ 1 å†è¯•ä¸€æ¬¡ï¼‰
      function straightHigh(rs){
        const r = [...new Set(rs)].sort((a,b)=>a-b); // å‡åºä¸”å»é‡
        if (r.length !== 3) return null;
        // æ­£å¸¸è¿ç»­
        if (r[1] === r[0]+1 && r[2] === r[1]+1) return r[2]; // æœ€é«˜ç‰Œ
        // A-2-3ï¼šæŠŠ A(14) å½“ 1 é‡è¯•
        const r2 = r.map(x=>x===14?1:x).sort((a,b)=>a-b);
        if (r2[1] === r2[0]+1 && r2[2] === r2[1]+1){
          return r2[2]; // è¿™é‡Œæœ€é«˜ä¸º 3ï¼ˆæœ€å°é¡ºå­ï¼‰
        }
        return null;
      }
      const sh = straightHigh(ranks);
      const counts = {};
      for(const r of ranks) counts[r]=(counts[r]||0)+1;
      const groups = Object.entries(counts).map(([r,c])=>({r: +r, c}));
      // ä¸‰æ¡
      if (groups.some(g=>g.c===3)){
        const v = groups.find(g=>g.c===3).r;
        return {cat:6, scoreVec:[v], name:'è±¹å­(ä¸‰æ¡)'};
      }
      // åŒèŠ±é¡º
      if (isFlush && sh!==null){
        return {cat:5, scoreVec:[sh], name:'åŒèŠ±é¡º'};
      }
      // åŒèŠ±
      if (isFlush){
        return {cat:4, scoreVec:ranks, name:'åŒèŠ±'};
      }
      // é¡ºå­
      if (sh!==null){
        return {cat:3, scoreVec:[sh], name:'é¡ºå­'};
      }
      // å¯¹å­
      if (groups.some(g=>g.c===2)){
        const pair = groups.find(g=>g.c===2).r;
        const kick = groups.find(g=>g.c===1).r;
        return {cat:2, scoreVec:[pair, kick], name:'å¯¹å­'};
      }
      // é«˜ç‰Œ
      return {cat:1, scoreVec:ranks, name:'é«˜ç‰Œ'};
    }

    function compareHands(a,b){
      if (a.cat !== b.cat) return a.cat - b.cat;
      // é€é¡¹æ¯”è¾ƒ scoreVec
      for(let i=0;i<Math.max(a.scoreVec.length,b.scoreVec.length);i++){
        const av = a.scoreVec[i]??0, bv = b.scoreVec[i]??0;
        if (av !== bv) return av - bv;
      }
      return 0; // å®Œå…¨ç›¸åŒï¼ˆæå°‘è§ï¼‰ -> å¹³åˆ†åº•æ± 
    }

    /***********************
     * æ¸¸æˆçŠ¶æ€
     ***********************/
    const cfg = {
      ante: 10,
      unitBet: 10,
      maxRaises: 3,
      startChips: 500
    };

    const state = {
      players: [],   // {id,name,isHuman,chips,hand,folded,betThisRound}
      deck: [],
      pot: 0,
      currentBet: 0,     // è¿™ä¸€è½®éœ€è¦è·Ÿåˆ°çš„é‡‘é¢
      raises: 0,         // å·²ç»åŠ æ³¨æ¬¡æ•°
      turnIndex: 0,      // å½“å‰è¡ŒåŠ¨è€…ç´¢å¼•
      inRound: false,
      showdown: false
    };

    const logEl = document.getElementById('log');
    function log(msg){
      const p = document.createElement('p');
      p.textContent = msg;
      logEl.appendChild(p);
      logEl.scrollTop = logEl.scrollHeight;
    }

    /***********************
     * åˆå§‹åŒ–ä¸æ–°ä¸€å±€
     ***********************/
    const playersEl = document.getElementById('players');
    const potEl = document.getElementById('pot');
    const needEl = document.getElementById('currentBet');
    const turnEl = document.getElementById('turnName');
    const statPotEl = document.getElementById('statPot');
    const statNeedEl = document.getElementById('statNeed');
    const statRaisesEl = document.getElementById('statRaises');
    const statAliveEl = document.getElementById('statAlive');
    const meChipsEl = document.getElementById('meChips');
    const meBetEl = document.getElementById('meBet');

    function setupPlayers(){
      state.players = [
        {id:0,name:'ä½ (ç©å®¶)',isHuman:true, chips:cfg.startChips, hand:[], folded:false, betThisRound:0},
        {id:1,name:'æœºå™¨äººA',isHuman:false, chips:cfg.startChips, hand:[], folded:false, betThisRound:0},
        {id:2,name:'æœºå™¨äººB',isHuman:false, chips:cfg.startChips, hand:[], folded:false, betThisRound:0},
        {id:3,name:'æœºå™¨äººC',isHuman:false, chips:cfg.startChips, hand:[], folded:false, betThisRound:0},
      ];
    }

    function newRound(){
      state.inRound = true;
      state.showdown = false;
      state.pot = 0;
      state.currentBet = 0;
      state.raises = 0;
      state.deck = shuffle(createDeck());
      for(const p of state.players){
        p.hand = [state.deck.pop(), state.deck.pop(), state.deck.pop()];
        p.folded = false;
        p.betThisRound = 0;
      }
      // å…¨å‘˜æ‰£åº•æ³¨
      for(const p of alivePlayers()){
        const antePay = Math.min(cfg.ante, p.chips);
        p.chips -= antePay;
        state.pot += antePay;
      }
      log('â€”â€” æ–°ä¸€å±€å¼€å§‹ï¼Œæ”¶å–åº•æ³¨ â€”â€”');
      // ç©å®¶å…ˆæ‰‹
      state.turnIndex = 0;
      render();
      maybeAutoTurn();
    }

    function alivePlayers(){
      return state.players.filter(p=>!p.folded && p.chips>=0);
    }

    /***********************
     * æ¸²æŸ“ UI
     ***********************/
    function render(){
      potEl.textContent = state.pot;
      needEl.textContent = state.currentBet;
      turnEl.textContent = state.inRound ? state.players[state.turnIndex].name : '-';
      statPotEl.textContent = state.pot;
      statNeedEl.textContent = state.currentBet;
      statRaisesEl.textContent = state.raises;
      statAliveEl.textContent = alivePlayers().length;

      playersEl.innerHTML = '';
      for(const p of state.players){
        const div = document.createElement('div');
        div.className = 'panel' + (p.folded?' folded':'');
        div.innerHTML = `
          <h3>${p.name} <span class="chips">ï¿¥${p.chips}</span>${state.players[state.turnIndex]===p?'<span class="turn">ï¼ˆè¡ŒåŠ¨ï¼‰</span>':''}</h3>
          <div class="cards">
            ${p.hand.map((c,idx)=>{
              const faceUp = p.isHuman || state.showdown || p.folded;
              const suitCls = faceUp && isRed(c.suit) ? 'suit-red':'';
              return faceUp
                ? `<div class="card face ${suitCls}">${RANK_LABEL(c.rank)}<small>${c.suit}</small></div>`
                : `<div class="card">ğŸ‚ </div>`;
            }).join('')}
          </div>
          <div style="font-size:13px;color:var(--muted);display:flex;gap:10px;">
            <span>æœ¬è½®ä¸‹æ³¨ï¼šï¿¥${p.betThisRound}</span>
            ${ (state.showdown || p.folded) ? showEval(p) : '' }
          </div>
        `;
        playersEl.appendChild(div);
      }

      const me = state.players[0];
      meChipsEl.textContent = me.chips;
      meBetEl.textContent = me.betThisRound;

      // è¡Œä¸ºæŒ‰é’®å¯ç”¨æ€§
      const myTurn = state.inRound && state.players[state.turnIndex].isHuman && !state.showdown;
      document.getElementById('btnFold').disabled = !myTurn;
      document.getElementById('btnCall').disabled = !myTurn;
      document.getElementById('btnRaise').disabled = !(myTurn && state.raises < cfg.maxRaises);

      document.getElementById('btnNext').style.display = (!state.inRound && !state.showdown) ? 'inline-block' : (state.showdown && !state.inRound ? 'inline-block':'none');
    }

    function showEval(p){
      if (p.folded) return `<span style="color:var(--danger)">å·²å¼ƒç‰Œ</span>`;
      const eva = evaluate3(p.hand);
      return `<span>ç‰Œå‹ï¼š<b>${eva.name}</b></span>`;
    }

    /***********************
     * å›åˆæ¨è¿›
     ***********************/
    function nextTurn(){
      // æ‰€æœ‰äººéƒ½å·²è·Ÿåˆ°ç›¸åŒé‡‘é¢ï¼Ÿæˆ–åªå‰© 1 äººå­˜æ´»ï¼Ÿ -> è¿›å…¥æ‘Šç‰Œ
      const alive = alivePlayers();
      if (alive.length === 1){
        // æå‰ç»“æŸï¼šå”¯ä¸€å­˜æ´»è€…ç›´æ¥èµ¢
        winnerTake(alive[0], true);
        return;
      }
      const target = Math.max(...alive.map(p=>p.betThisRound));
      const allMatched = alive.every(p=>p.betThisRound === target);
      if (allMatched){
        // æ‘Šç‰Œ
        showdown();
        return;
      }

      // é¡ºæ—¶é’ˆæ‰¾ä¸‹ä¸€ä½æœªå¼ƒç‰Œè€…
      const n = state.players.length;
      for (let step=1; step<=n; step++){
        const idx = (state.turnIndex + step) % n;
        const cand = state.players[idx];
        if (!cand.folded){
          state.turnIndex = idx;
          break;
        }
      }
      render();
      maybeAutoTurn();
    }

    function maybeAutoTurn(){
      const p = state.players[state.turnIndex];
      if (!state.inRound || state.showdown) return;
      if (!p.isHuman){
        setTimeout(()=>botAct(p), 600);
      }
    }

    function payToPot(p, amount){
      const pay = Math.max(0, Math.min(amount, p.chips));
      p.chips -= pay;
      p.betThisRound += pay;
      state.pot += pay;
      return pay;
    }

    /***********************
     * ç©å®¶æ“ä½œ
     ***********************/
    document.getElementById('btnFold').addEventListener('click', ()=>{
      if (!state.inRound) return;
      const me = state.players[0];
      me.folded = true;
      log(`ä½ é€‰æ‹©ï¼šå¼ƒç‰Œ`);
      nextTurn();
    });

    document.getElementById('btnCall').addEventListener('click', ()=>{
      if (!state.inRound) return;
      const me = state.players[0];
      const need = Math.max(0, state.currentBet - me.betThisRound);
      const paid = payToPot(me, need);
      log(`ä½ é€‰æ‹©ï¼šè·Ÿæ³¨ ï¿¥${paid}`);
      nextTurn();
    });

    document.getElementById('btnRaise').addEventListener('click', ()=>{
      if (!state.inRound || state.raises >= cfg.maxRaises) return;
      const me = state.players[0];
      const need = Math.max(0, state.currentBet - me.betThisRound);
      const paidCall = payToPot(me, need);
      state.currentBet += cfg.unitBet;
      state.raises += 1;
      const paidRaise = payToPot(me, cfg.unitBet);
      log(`ä½ é€‰æ‹©ï¼šå…ˆè·Ÿ ï¿¥${paidCall} å†åŠ æ³¨ ï¿¥${paidRaise}ï¼ˆå½“å‰éœ€è·Ÿæ³¨=${state.currentBet}ï¼‰`);
      nextTurn();
    });

    document.getElementById('btnNext').addEventListener('click', ()=>{
      newRound();
    });

    /***********************
     * æœºå™¨äºº AIï¼ˆæç®€å¯å‘å¼ï¼‰
     ***********************/
    function botStrength(p){
      const eva = evaluate3(p.hand);
      // å½’ä¸€åŒ–å¼ºåº¦ï¼šå¤§ç±»*100 + æ¬¡çº§æ¯”è¾ƒ
      let minor = 0;
      if (eva.scoreVec && eva.scoreVec.length){
        // æŠŠ kicker åˆæˆä¸€ä¸ªå€¼ï¼ˆä¸æ˜¯å®Œå…¨ç²¾ç¡®ï¼Œä½†è¶³å¤Ÿç”¨äºç®€å•å†³ç­–ï¼‰
        minor = eva.scoreVec.reduce((acc,v,i)=>acc + v*Math.pow(0.01, i), 0);
      }
      return eva.cat*100 + minor;
    }

    function botAct(p){
      // éœ€è¦è·Ÿåˆ°çš„é‡‘é¢å·®
      const need = Math.max(0, state.currentBet - p.betThisRound);
      const S = botStrength(p);

      // ç®€æ˜“ç­–ç•¥é˜ˆå€¼
      const STRONG = 500; // ~é¡ºå­/åŒèŠ±ä»¥ä¸Š
      const MEDIUM = 250; // ~å¯¹å­
      const canRaise = state.raises < cfg.maxRaises && p.chips > need + cfg.unitBet;

      if (S >= STRONG){
        // å¼ºç‰Œï¼šä¼˜å…ˆåŠ æ³¨
        if (canRaise){
          // å…ˆè¡¥è·Ÿ
          payToPot(p, need);
          state.currentBet += cfg.unitBet;
          state.raises += 1;
          payToPot(p, cfg.unitBet);
          log(`${p.name}ï¼šåŠ æ³¨ï¼ˆå½“å‰éœ€è·Ÿæ³¨=${state.currentBet}ï¼‰`);
        }else{
          const paid = payToPot(p, need);
          log(`${p.name}ï¼šè·Ÿæ³¨ ï¿¥${paid}`);
        }
      }else if (S >= MEDIUM){
        // ä¸­ç­‰ç‰Œï¼šå¤šæ•°è·Ÿï¼Œå¶å°”åŠ æ³¨
        if (canRaise && Math.random() < 0.25){
          payToPot(p, need);
          state.currentBet += cfg.unitBet;
          state.raises += 1;
          payToPot(p, cfg.unitBet);
          log(`${p.name}ï¼šåŠ æ³¨ï¼ˆå½“å‰éœ€è·Ÿæ³¨=${state.currentBet}ï¼‰`);
        }else{
          const paid = payToPot(p, need);
          log(`${p.name}ï¼šè·Ÿæ³¨ ï¿¥${paid}`);
        }
      }else{
        // å¼±ç‰Œï¼šå¤šæ•°è·Ÿï¼Œå°æ¦‚ç‡å¼ƒç‰Œ
        if (need>0 && Math.random() < 0.5){
          p.folded = true;
          log(`${p.name}ï¼šå¼ƒç‰Œ`);
        }else{
          const paid = payToPot(p, need);
          log(`${p.name}ï¼šè·Ÿæ³¨ ï¿¥${paid}`);
        }
      }
      nextTurn();
    }

    /***********************
     * æ‘Šç‰Œ & ç»“ç®—
     ***********************/
    function showdown(){
      state.inRound = false;
      state.showdown = true;

      const alive = alivePlayers();
      let best = null, winners = [];
      for(const p of alive){
        const eva = evaluate3(p.hand);
        if (!best){
          best = {p, eva};
          winners = [p];
        }else{
          const cmp = compareHands(eva, best.eva);
          if (cmp>0){ best = {p, eva}; winners = [p]; }
          else if (cmp===0){ winners.push(p); }
        }
      }

      if (winners.length === 1){
        winners[0].chips += state.pot;
        log(`ã€æ‘Šç‰Œã€‘èµ¢å®¶ï¼š${winners[0].name}ï¼ˆ${evaluate3(winners[0].hand).name}ï¼‰ï¼Œèµ¢å¾— ï¿¥${state.pot}`);
      }else{
        const share = Math.floor(state.pot / winners.length);
        for(const w of winners) w.chips += share;
        log(`ã€æ‘Šç‰Œã€‘å¹³åˆ†åº•æ± ï¼š${winners.map(w=>w.name).join('ã€')} å„å¾— ï¿¥${share}`);
      }
      state.pot = 0;
      render();
      document.getElementById('btnNext').style.display = 'inline-block';
    }

    function winnerTake(p, byFold){
      state.inRound = false;
      state.showdown = true;
      p.chips += state.pot;
      log(byFold ? `å…¶ä½™ç©å®¶å¼ƒç‰Œï¼Œ${p.name} ç›´æ¥èµ¢å¾— ï¿¥${state.pot}` : `${p.name} è·èƒœï¼`);
      state.pot = 0;
      render();
      document.getElementById('btnNext').style.display = 'inline-block';
    }

    /***********************
     * å¯åŠ¨
     ***********************/
    document.getElementById('ante').textContent = cfg.ante;
    document.getElementById('unitBet').textContent = cfg.unitBet;
    document.getElementById('maxRaises').textContent = cfg.maxRaises;

    setupPlayers();
    newRound();
  </script>
</body>
</html>



